<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>cristmas tree</title>
    <link rel="stylesheet" type="text/css" href="indextree.css">

    <!-- <script src="https://code.jquery.com/jquery-1.12.4.js"></script> -->
    <!-- <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script> -->
    <script src="jquery-3.5.1.min.js"></script>
    <script src="jquery-ui.js"></script>

    <script type="text/javascript">
      $(function() {
        $('.tree').draggable({containment: "body"});
      });
    </script>

    <script>
      $(document).ready(function(){

        $(document).mousemove(function(event){
      		var x = event.pageX;
      		var y = event.pageY;
      		console.log( 'Координаты курсора: (' + x + '; ' + y + ')' );
      	});

        $(".buttonclone").click(function(a){

          $(a.currentTarget).find('img').clone().addClass('ready-to-drop new-ball').appendTo("#area").draggable({containment: "parent"})
          .css({"position": "absolute",
              "top": Math.floor(Math.random() * 600),
              "left": Math.floor(Math.random() * 1200)});
          $('#tree').droppable({
            drop: function(a) {
                if (!$(a.toElement).hasClass('ready-to-drop')) {
                  return;
                }
                console.warn(a);
                $(a.toElement)
                .appendTo('#tree')
                .removeClass('ready-to-drop')
                .addClass('tree-toy')
                .draggable({containment: "parent"})
                .css({
                  'position': 'absolute',
                  "top": (a.originalEvent.clientY - a.target.offsetTop) - a.toElement.clientHeight / 2,
                  "left": (a.originalEvent.clientX - a.target.offsetLeft) - a.toElement.clientWidth / 2
                });
            }
          });
        });
      });
    </script>

    <script>
      $(document).ready(function(){
        $(".container-my-name").click(function(b){
          const toys = $('.ready-to-drop');
          // console.warn(toys.length, toys);
          var arrayToys = [];
          arrayToys.push(toys);

          console.log('arrayToys = ', arrayToys);

          var arrayCoord = [
            //A
            [393,643],[356,649],[324,665],[307,670],[255,692],[224,702],[174,721],[139,730],[173,744],[210,760],[250,780],[308,810],[355,827],[380,845],[295,788],[295,768],[295,748],[295,728],[295,700], 
            //З
            [164,950],[163,960],[160,990],[165,1015],[175,1032],[201,1045],[221,1045],[241,1040],[260,1013],[280,980],[300,1000],[285,1025],[320,1050],[350,1050],[360,1050],[390,1030],[400,1000],[400,980],[390,950]
          ];

          

          console.warn('arrayToys[0].length = ', arrayToys[0].length);

          let i = -1;
          while(i != arrayToys[0].length) {
            $(arrayToys[0][i+1]).css({
              'position': 'absolute',
              'width': '40px',
              'height': 'auto',
              'top': arrayCoord[i+1][0],
              'left': arrayCoord[i+1][1]
            });
            i++;
          }
          // for(let i = 0; i < arrayToys[0].length + 1; i++) {
          //   $(arrayToys[0][i+1]).css({
          //     'position': 'absolute',
          //     "top": arrayCoord[i+1][0],
          //     "left": arrayCoord[i+1][1]
          //   });
          // }

        });
      });
    </script>

  </head>
  <body>
    <div class="ball-conteiner">

      <div class="buttonclone container-ball-plus">
        <img class="ball-img" src="images/ball1.png" alt="Photo">
        <span class="text-plus"></span>
      </div>
      <div class="buttonclone container-ball-plus">
        <img class="ball-img" src="images/ball2.png" alt="Photo">
        <span class="text-plus" style="color: rgb(0, 0, 0);"></span>
      </div>
      <div class="buttonclone container-ball-plus">
        <img class="ball-img" src="images/ball3.png" alt="Photo">
        <span class="text-plus"></span>
      </div>
      <div class="buttonclone container-ball-plus">
        <img class="ball-img" src="images/ball4.png" alt="Photo">
        <span class="text-plus"></span>
      </div>

    </div>

    <div id="area" class="area">
      <div id="tree" class="tree">
        <img class="tree-img" src="images/tree.png" alt="Photo">
      </div>
    </div>

    <div class='container-my-name'><span class='my-name'>NAME</span></div>

  </body>
</html>
